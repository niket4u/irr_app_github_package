<INSERT FULL FINAL WORKING CODE HERE — for actual use this would be the entire canvas code>